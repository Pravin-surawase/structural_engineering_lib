{"openapi":"3.1.0","info":{"title":"Structural Engineering API","description":"\n## IS 456:2000 Compliant Structural Engineering Library\n\nThis API provides comprehensive structural engineering calculations following\nthe Indian Standard IS 456:2000 for reinforced concrete design.\n\n### Features\n\n- **Beam Design**: Flexure, shear, and combined design calculations\n- **Detailing**: Reinforcement layout, spacing, and development lengths\n- **Optimization**: Cost-optimized beam cross-section selection\n- **Smart Analysis**: AI-assisted design suggestions and insights\n- **3D Geometry**: Visualization-ready mesh generation\n\n### Design Codes\n\n- IS 456:2000 - Plain and Reinforced Concrete\n- IS 13920 - Ductile Detailing for Seismic Resistance\n\n### Units\n\nAll inputs and outputs use consistent units:\n- **Length**: millimeters (mm)\n- **Force**: kilonewtons (kN)\n- **Moment**: kilonewton-meters (kN·m)\n- **Stress**: N/mm² (MPa)\n- **Area**: mm²\n","contact":{"name":"Structural Engineering Library","url":"https://github.com/yourusername/structural_engineering_lib"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"0.1.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Returns the current health status of the API.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthStatus"}}}}}}},"/health/ready":{"get":{"tags":["health"],"summary":"Readiness Check","description":"Returns whether the service is ready to accept requests.","operationId":"readiness_check_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadinessStatus"}}}}}}},"/health/info":{"get":{"tags":["health"],"summary":"System Information","description":"Returns detailed system and version information.","operationId":"system_info_health_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemInfo"}}}}}}},"/api/v1/design/beam":{"post":{"tags":["design"],"summary":"Design Beam Section","description":"Calculate required reinforcement for a beam section under given loading.","operationId":"design_beam_api_v1_design_beam_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamDesignRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamDesignResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/design/beam/check":{"post":{"tags":["design"],"summary":"Check Beam Adequacy","description":"Check if a beam with given reinforcement is adequate for the applied loads.","operationId":"check_beam_api_v1_design_beam_check_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamCheckRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamCheckResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/design/limits":{"get":{"tags":["design"],"summary":"Get Design Limits","description":"Get IS 456 design limits and constraints.","operationId":"get_design_limits_api_v1_design_limits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Design Limits Api V1 Design Limits Get"}}}}}}},"/api/v1/detailing/beam":{"post":{"tags":["detailing"],"summary":"Detail Beam Reinforcement","description":"Generate reinforcement detailing for a beam section.","operationId":"detail_beam_api_v1_detailing_beam_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamDetailingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BeamDetailingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detailing/bar-areas":{"get":{"tags":["detailing"],"summary":"Get Standard Bar Areas","description":"Get cross-sectional areas for standard reinforcement bars.","operationId":"get_bar_areas_api_v1_detailing_bar_areas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Bar Areas Api V1 Detailing Bar Areas Get"}}}}}}},"/api/v1/detailing/development-length/{bar_diameter}":{"get":{"tags":["detailing"],"summary":"Calculate Development Length","description":"Calculate development length for a specific bar diameter.","operationId":"calculate_development_length_api_v1_detailing_development_length__bar_diameter__get","parameters":[{"name":"bar_diameter","in":"path","required":true,"schema":{"type":"integer","title":"Bar Diameter"}},{"name":"fck","in":"query","required":false,"schema":{"type":"number","default":25.0,"title":"Fck"}},{"name":"fy","in":"query","required":false,"schema":{"type":"number","default":500.0,"title":"Fy"}},{"name":"bar_type","in":"query","required":false,"schema":{"type":"string","default":"deformed","title":"Bar Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Calculate Development Length Api V1 Detailing Development Length  Bar Diameter  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimization/beam/cost":{"post":{"tags":["optimization"],"summary":"Optimize Beam Cost","description":"Find the most cost-effective beam section for given loading.","operationId":"optimize_beam_cost_api_v1_optimization_beam_cost_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CostOptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CostOptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimization/cost-rates":{"get":{"tags":["optimization"],"summary":"Get Default Cost Rates","description":"Get default material and labor cost rates.","operationId":"get_cost_rates_api_v1_optimization_cost_rates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cost Rates Api V1 Optimization Cost Rates Get"}}}}}}},"/api/v1/analysis/beam/smart":{"post":{"tags":["analysis"],"summary":"Smart Beam Analysis","description":"Get AI-assisted analysis with suggestions for beam design.","operationId":"smart_analyze_beam_api_v1_analysis_beam_smart_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmartAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmartAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/code-clauses":{"get":{"tags":["analysis"],"summary":"Get Code Clause References","description":"Get IS 456 clause references for common checks.","operationId":"get_code_clauses_api_v1_analysis_code_clauses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Code Clauses Api V1 Analysis Code Clauses Get"}}}}}}},"/api/v1/geometry/beam/3d":{"post":{"tags":["geometry"],"summary":"Generate 3D Beam Geometry","description":"Generate 3D mesh geometry for beam visualization.","operationId":"generate_beam_geometry_api_v1_geometry_beam_3d_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Geometry3DRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Geometry3DResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/geometry/materials":{"get":{"tags":["geometry"],"summary":"Get Material Appearance","description":"Get material colors and properties for visualization.","operationId":"get_materials_api_v1_geometry_materials_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Materials Api V1 Geometry Materials Get"}}}}}}},"/stream/batch-design":{"get":{"tags":["streaming"],"summary":"Stream Batch Design","description":"Stream batch beam design results.\n\nAccepts JSON array of beam parameters and streams results as they complete.\n\nEvents:\n    - start: Job started with job_id and total count\n    - progress: Current progress (completed/total)\n    - design_result: Individual beam result\n    - error: Individual beam error\n    - complete: All beams processed\n\nExample:\n    ```javascript\n    const beams = JSON.stringify([\n        {width: 300, depth: 500, moment: 100, fck: 25, fy: 500},\n        {width: 300, depth: 500, moment: 150, fck: 25, fy: 500}\n    ]);\n    const es = new EventSource(`/stream/batch-design?beams=${encodeURIComponent(beams)}`);\n\n    es.addEventListener('design_result', (e) => {\n        const result = JSON.parse(e.data);\n        console.log('Beam completed:', result);\n    });\n\n    es.addEventListener('complete', (e) => {\n        console.log('All done!');\n        es.close();\n    });\n    ```","operationId":"stream_batch_design_stream_batch_design_get","parameters":[{"name":"beams","in":"query","required":true,"schema":{"type":"string","description":"JSON array of beam parameters","title":"Beams"},"description":"JSON array of beam parameters"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stream/job/{job_id}":{"get":{"tags":["streaming"],"summary":"Get Job Status","description":"Get status of a batch job.\n\nReturns job progress, results count, and any errors.","operationId":"get_job_status_stream_job__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Job Status Stream Job  Job Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["health"],"summary":"Root","description":"Root endpoint providing API information.\n\nReturns basic API information and links to documentation.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BarArrangement":{"properties":{"layer":{"type":"integer","title":"Layer","description":"Layer number (1 = bottom)"},"bar_count":{"type":"integer","title":"Bar Count","description":"Number of bars in layer"},"bar_diameter":{"type":"integer","title":"Bar Diameter","description":"Bar diameter (mm)"},"area_provided":{"type":"number","title":"Area Provided","description":"Total area provided (mm²)"},"spacing":{"type":"number","title":"Spacing","description":"Clear spacing between bars (mm)"}},"type":"object","required":["layer","bar_count","bar_diameter","area_provided","spacing"],"title":"BarArrangement","description":"Reinforcement bar arrangement."},"BeamCheckRequest":{"properties":{"width":{"type":"number","maximum":2000.0,"exclusiveMinimum":0.0,"title":"Width","description":"Beam width b (mm)"},"depth":{"type":"number","maximum":3000.0,"exclusiveMinimum":0.0,"title":"Depth","description":"Overall beam depth D (mm)"},"moment":{"type":"number","minimum":0.0,"title":"Moment","description":"Factored design moment Mu (kN·m)"},"shear":{"type":"number","minimum":0.0,"title":"Shear","description":"Factored shear Vu (kN)","default":0.0},"ast_provided":{"type":"number","exclusiveMinimum":0.0,"title":"Ast Provided","description":"Provided tension reinforcement area Ast (mm²)","examples":[615.0,942.0,1256.0]},"asc_provided":{"type":"number","minimum":0.0,"title":"Asc Provided","description":"Provided compression reinforcement area Asc (mm²)","default":0.0},"stirrup_area":{"type":"number","minimum":0.0,"title":"Stirrup Area","description":"Two-legged stirrup area Asv (mm²)","default":0.0,"examples":[100.5,157.0,201.0]},"stirrup_spacing":{"type":"number","maximum":300.0,"exclusiveMinimum":0.0,"title":"Stirrup Spacing","description":"Stirrup spacing sv (mm)","default":150.0},"fck":{"type":"number","maximum":80.0,"minimum":15.0,"title":"Fck","description":"fck (N/mm²)","default":25.0},"fy":{"type":"number","maximum":600.0,"minimum":250.0,"title":"Fy","description":"fy (N/mm²)","default":500.0},"clear_cover":{"type":"number","maximum":75.0,"minimum":20.0,"title":"Clear Cover","description":"Cover (mm)","default":25.0}},"type":"object","required":["width","depth","moment","ast_provided"],"title":"BeamCheckRequest","description":"Request model for checking existing beam with provided reinforcement."},"BeamCheckResponse":{"properties":{"is_adequate":{"type":"boolean","title":"Is Adequate","description":"Whether beam is adequate for loads"},"success":{"type":"boolean","title":"Success","description":"Whether calculation completed successfully"},"message":{"type":"string","title":"Message","description":"Summary message"},"moment_capacity":{"type":"number","title":"Moment Capacity","description":"Moment capacity Mu,cap (kN·m)"},"shear_capacity":{"type":"number","title":"Shear Capacity","description":"Shear capacity Vu,cap (kN)"},"moment_utilization":{"type":"number","title":"Moment Utilization","description":"Mu/Mu,cap ratio"},"shear_utilization":{"type":"number","title":"Shear Utilization","description":"Vu/Vu,cap ratio"},"flexure_adequate":{"type":"boolean","title":"Flexure Adequate","description":"Whether flexure is adequate"},"shear_adequate":{"type":"boolean","title":"Shear Adequate","description":"Whether shear is adequate"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Check warnings"}},"type":"object","required":["is_adequate","success","message","moment_capacity","shear_capacity","moment_utilization","shear_utilization","flexure_adequate","shear_adequate"],"title":"BeamCheckResponse","description":"Response model for beam adequacy check."},"BeamDesignRequest":{"properties":{"width":{"type":"number","maximum":2000.0,"exclusiveMinimum":0.0,"title":"Width","description":"Beam width b (mm)","examples":[230.0,300.0,400.0]},"depth":{"type":"number","maximum":3000.0,"exclusiveMinimum":0.0,"title":"Depth","description":"Overall beam depth D (mm)","examples":[450.0,600.0,750.0]},"moment":{"type":"number","minimum":0.0,"title":"Moment","description":"Factored design moment Mu (kN·m)","examples":[100.0,250.0,500.0]},"shear":{"type":"number","minimum":0.0,"title":"Shear","description":"Factored design shear force Vu (kN)","default":0.0,"examples":[50.0,150.0,300.0]},"fck":{"type":"number","maximum":80.0,"minimum":15.0,"title":"Fck","description":"Characteristic compressive strength of concrete (N/mm²)","default":25.0,"examples":[20.0,25.0,30.0,40.0]},"fy":{"type":"number","maximum":600.0,"minimum":250.0,"title":"Fy","description":"Yield strength of reinforcement steel (N/mm²)","default":500.0,"examples":[415.0,500.0,550.0]},"clear_cover":{"type":"number","maximum":75.0,"minimum":20.0,"title":"Clear Cover","description":"Clear cover to reinforcement (mm)","default":25.0,"examples":[25.0,30.0,40.0]},"effective_depth":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Effective Depth","description":"Effective depth d (mm). Auto-calculated if not provided."}},"type":"object","required":["width","depth","moment"],"title":"BeamDesignRequest","description":"Request model for beam design calculation."},"BeamDesignResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether design is valid"},"message":{"type":"string","title":"Message","description":"Summary message"},"flexure":{"$ref":"#/components/schemas/FlexureResult"},"shear":{"anyOf":[{"$ref":"#/components/schemas/ShearResult"},{"type":"null"}]},"ast_total":{"type":"number","title":"Ast Total","description":"Total tension steel required (mm²)"},"asc_total":{"type":"number","title":"Asc Total","description":"Total compression steel (mm²)","default":0.0},"utilization_ratio":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Utilization Ratio","description":"Mu/Mu_cap utilization ratio"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Design warnings"}},"type":"object","required":["success","message","flexure","ast_total","utilization_ratio"],"title":"BeamDesignResponse","description":"Response model for beam design calculation."},"BeamDetailingRequest":{"properties":{"width":{"type":"number","maximum":2000.0,"exclusiveMinimum":0.0,"title":"Width","description":"Beam width b (mm)"},"depth":{"type":"number","maximum":3000.0,"exclusiveMinimum":0.0,"title":"Depth","description":"Overall beam depth D (mm)"},"ast_required":{"type":"number","exclusiveMinimum":0.0,"title":"Ast Required","description":"Required tension reinforcement area Ast (mm²)"},"asc_required":{"type":"number","minimum":0.0,"title":"Asc Required","description":"Required compression reinforcement area Asc (mm²)","default":0.0},"asv_required":{"type":"number","minimum":0.0,"title":"Asv Required","description":"Required stirrup area Asv (mm²/mm)","default":0.0},"fck":{"type":"number","maximum":80.0,"minimum":15.0,"title":"Fck","description":"fck (N/mm²)","default":25.0},"fy":{"type":"number","maximum":600.0,"minimum":250.0,"title":"Fy","description":"fy (N/mm²)","default":500.0},"clear_cover":{"type":"number","maximum":75.0,"minimum":20.0,"title":"Clear Cover","description":"Cover (mm)","default":25.0},"preferred_bar_dia":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Preferred Bar Dia","description":"Preferred bar diameters (mm)","examples":[[16,20],[12,16,20,25]]},"max_layers":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Max Layers","description":"Maximum number of reinforcement layers","default":3},"span_length":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Span Length","description":"Beam span length (mm) for development length calculation"},"is_continuous":{"type":"boolean","title":"Is Continuous","description":"Whether beam is part of continuous system","default":false}},"type":"object","required":["width","depth","ast_required"],"title":"BeamDetailingRequest","description":"Request model for beam reinforcement detailing."},"BeamDetailingResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether detailing is valid"},"message":{"type":"string","title":"Message","description":"Summary message"},"tension_bars":{"items":{"$ref":"#/components/schemas/BarArrangement"},"type":"array","title":"Tension Bars","description":"Tension bar arrangement by layer"},"ast_provided":{"type":"number","title":"Ast Provided","description":"Total tension steel provided (mm²)"},"compression_bars":{"items":{"$ref":"#/components/schemas/BarArrangement"},"type":"array","title":"Compression Bars","description":"Compression bar arrangement"},"asc_provided":{"type":"number","title":"Asc Provided","description":"Compression steel provided (mm²)","default":0.0},"stirrups":{"anyOf":[{"$ref":"#/components/schemas/StirrupArrangement"},{"type":"null"}],"description":"Stirrup details"},"ld_tension":{"type":"number","title":"Ld Tension","description":"Development length for tension bars (mm)"},"ld_compression":{"type":"number","title":"Ld Compression","description":"Development length for compression bars (mm)","default":0.0},"anchorage_length":{"type":"number","title":"Anchorage Length","description":"Anchorage length at supports (mm)"},"curtailment_points":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Curtailment Points","description":"Bar curtailment positions"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Detailing warnings"}},"type":"object","required":["success","message","tension_bars","ast_provided","ld_tension","anchorage_length"],"title":"BeamDetailingResponse","description":"Response model for beam detailing."},"BoundingBox":{"properties":{"min_x":{"type":"number","title":"Min X","description":"Minimum X coordinate (mm)"},"max_x":{"type":"number","title":"Max X","description":"Maximum X coordinate (mm)"},"min_y":{"type":"number","title":"Min Y","description":"Minimum Y coordinate (mm)"},"max_y":{"type":"number","title":"Max Y","description":"Maximum Y coordinate (mm)"},"min_z":{"type":"number","title":"Min Z","description":"Minimum Z coordinate (mm)"},"max_z":{"type":"number","title":"Max Z","description":"Maximum Z coordinate (mm)"}},"type":"object","required":["min_x","max_x","min_y","max_y","min_z","max_z"],"title":"BoundingBox","description":"Axis-aligned bounding box."},"CodeCheck":{"properties":{"clause":{"type":"string","title":"Clause","description":"Code clause reference"},"description":{"type":"string","title":"Description","description":"Check description"},"passed":{"type":"boolean","title":"Passed","description":"Whether check passed"},"calculated_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Calculated Value","description":"Calculated value"},"limit_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Limit Value","description":"Code limit value"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Additional message"}},"type":"object","required":["clause","description","passed"],"title":"CodeCheck","description":"Code compliance check result."},"CostBreakdown":{"properties":{"concrete_cost":{"type":"number","title":"Concrete Cost","description":"Cost of concrete (₹)"},"steel_cost":{"type":"number","title":"Steel Cost","description":"Cost of reinforcement (₹)"},"formwork_cost":{"type":"number","title":"Formwork Cost","description":"Cost of formwork (₹)"},"total_cost":{"type":"number","title":"Total Cost","description":"Total cost (₹)"},"cost_per_meter":{"type":"number","title":"Cost Per Meter","description":"Cost per meter length (₹/m)"}},"type":"object","required":["concrete_cost","steel_cost","formwork_cost","total_cost","cost_per_meter"],"title":"CostBreakdown","description":"Detailed cost breakdown."},"CostEstimate":{"properties":{"relative_cost":{"type":"number","title":"Relative Cost","description":"Relative cost index (1.0 = baseline)"},"estimated_concrete":{"type":"number","title":"Estimated Concrete","description":"Estimated concrete (m³/m)"},"estimated_steel":{"type":"number","title":"Estimated Steel","description":"Estimated steel (kg/m)"},"cost_rating":{"type":"string","title":"Cost Rating","description":"Cost rating","examples":["economical","moderate","expensive"]}},"type":"object","required":["relative_cost","estimated_concrete","estimated_steel","cost_rating"],"title":"CostEstimate","description":"Rough cost estimate for analysis."},"CostOptimizationRequest":{"properties":{"moment":{"type":"number","minimum":0.0,"title":"Moment","description":"Factored design moment Mu (kN·m)"},"shear":{"type":"number","minimum":0.0,"title":"Shear","description":"Factored design shear force Vu (kN)","default":0.0},"span_length":{"type":"number","exclusiveMinimum":0.0,"title":"Span Length","description":"Beam span length (mm) for L/d ratio checks"},"fck":{"type":"number","maximum":80.0,"minimum":15.0,"title":"Fck","description":"fck (N/mm²)","default":25.0},"fy":{"type":"number","maximum":600.0,"minimum":250.0,"title":"Fy","description":"fy (N/mm²)","default":500.0},"cost_params":{"$ref":"#/components/schemas/CostParameters","description":"Unit cost parameters"},"constraints":{"$ref":"#/components/schemas/DesignConstraints","description":"Design constraints for optimization"},"optimize_for":{"type":"string","pattern":"^(cost|weight|depth)$","title":"Optimize For","description":"Optimization objective","default":"cost"},"include_alternatives":{"type":"boolean","title":"Include Alternatives","description":"Whether to include alternative solutions","default":true},"max_alternatives":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Max Alternatives","description":"Maximum number of alternative solutions","default":5}},"type":"object","required":["moment","span_length"],"title":"CostOptimizationRequest","description":"Request model for beam cost optimization."},"CostOptimizationResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether optimization succeeded"},"message":{"type":"string","title":"Message","description":"Summary message"},"optimal":{"$ref":"#/components/schemas/OptimalDesign","description":"Optimal design solution"},"alternatives":{"items":{"$ref":"#/components/schemas/OptimalDesign"},"type":"array","title":"Alternatives","description":"Alternative design solutions"},"total_combinations_evaluated":{"type":"integer","title":"Total Combinations Evaluated","description":"Number of combinations evaluated"},"valid_solutions_found":{"type":"integer","title":"Valid Solutions Found","description":"Number of valid solutions found"},"savings_vs_min_section":{"type":"number","title":"Savings Vs Min Section","description":"Cost savings vs minimum section size (%)","default":0.0},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Optimization warnings"}},"type":"object","required":["success","message","optimal","total_combinations_evaluated","valid_solutions_found"],"title":"CostOptimizationResponse","description":"Response model for cost optimization."},"CostParameters":{"properties":{"concrete_cost":{"type":"number","exclusiveMinimum":0.0,"title":"Concrete Cost","description":"Cost of concrete per m³ (₹/m³)","default":6000.0,"examples":[5000.0,6000.0,8000.0]},"steel_cost":{"type":"number","exclusiveMinimum":0.0,"title":"Steel Cost","description":"Cost of reinforcement steel per kg (₹/kg)","default":60.0,"examples":[55.0,60.0,75.0]},"formwork_cost":{"type":"number","exclusiveMinimum":0.0,"title":"Formwork Cost","description":"Cost of formwork per m² (₹/m²)","default":400.0,"examples":[350.0,400.0,500.0]}},"type":"object","title":"CostParameters","description":"Cost parameters for optimization."},"DesignConstraints":{"properties":{"min_width":{"type":"number","exclusiveMinimum":0.0,"title":"Min Width","description":"Minimum beam width (mm)","default":200.0},"max_width":{"type":"number","exclusiveMinimum":0.0,"title":"Max Width","description":"Maximum beam width (mm)","default":600.0},"min_depth":{"type":"number","exclusiveMinimum":0.0,"title":"Min Depth","description":"Minimum beam depth (mm)","default":300.0},"max_depth":{"type":"number","exclusiveMinimum":0.0,"title":"Max Depth","description":"Maximum beam depth (mm)","default":1200.0},"width_step":{"type":"number","exclusiveMinimum":0.0,"title":"Width Step","description":"Width increment step (mm)","default":50.0},"depth_step":{"type":"number","exclusiveMinimum":0.0,"title":"Depth Step","description":"Depth increment step (mm)","default":50.0},"min_utilization":{"type":"number","maximum":1.0,"minimum":0.5,"title":"Min Utilization","description":"Minimum utilization ratio for efficient design","default":0.7}},"type":"object","title":"DesignConstraints","description":"Design constraints for optimization."},"EfficiencyMetrics":{"properties":{"utilization_ratio":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Utilization Ratio","description":"Moment utilization ratio Mu/Mu_cap"},"steel_efficiency":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Steel Efficiency","description":"Steel utilization vs max allowed"},"concrete_efficiency":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Concrete Efficiency","description":"Concrete utilization vs capacity"},"overall_efficiency":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Overall Efficiency","description":"Overall design efficiency score"},"efficiency_grade":{"type":"string","pattern":"^[A-F]$","title":"Efficiency Grade","description":"Efficiency grade (A-F)"},"efficiency_comment":{"type":"string","title":"Efficiency Comment","description":"Explanation of efficiency grade"}},"type":"object","required":["utilization_ratio","steel_efficiency","concrete_efficiency","overall_efficiency","efficiency_grade","efficiency_comment"],"title":"EfficiencyMetrics","description":"Design efficiency metrics."},"FlexureResult":{"properties":{"ast_required":{"type":"number","title":"Ast Required","description":"Required tension steel area (mm²)"},"ast_min":{"type":"number","title":"Ast Min","description":"Minimum required steel area (mm²)"},"ast_max":{"type":"number","title":"Ast Max","description":"Maximum allowed steel area (mm²)"},"xu":{"type":"number","title":"Xu","description":"Neutral axis depth (mm)"},"xu_max":{"type":"number","title":"Xu Max","description":"Limiting neutral axis depth (mm)"},"is_under_reinforced":{"type":"boolean","title":"Is Under Reinforced","description":"Whether section is under-reinforced"},"moment_capacity":{"type":"number","title":"Moment Capacity","description":"Moment capacity Mu,cap (kN·m)"},"asc_required":{"type":"number","title":"Asc Required","description":"Compression steel if needed (mm²)","default":0.0}},"type":"object","required":["ast_required","ast_min","ast_max","xu","xu_max","is_under_reinforced","moment_capacity"],"title":"FlexureResult","description":"Flexure design result."},"Geometry3DRequest":{"properties":{"width":{"type":"number","maximum":2000.0,"exclusiveMinimum":0.0,"title":"Width","description":"Beam width b (mm)"},"depth":{"type":"number","maximum":3000.0,"exclusiveMinimum":0.0,"title":"Depth","description":"Beam depth D (mm)"},"length":{"type":"number","exclusiveMinimum":0.0,"title":"Length","description":"Beam length L (mm)"},"tension_bars":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Tension Bars","description":"Tension bar arrangement for visualization","examples":[[{"count":3,"diameter":16,"layer":1}]]},"compression_bars":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Compression Bars","description":"Compression bar arrangement for visualization"},"stirrup_diameter":{"anyOf":[{"type":"integer","maximum":16.0,"minimum":6.0},{"type":"null"}],"title":"Stirrup Diameter","description":"Stirrup diameter (mm)"},"stirrup_spacing":{"anyOf":[{"type":"number","maximum":300.0,"exclusiveMinimum":0.0},{"type":"null"}],"title":"Stirrup Spacing","description":"Stirrup spacing (mm)"},"clear_cover":{"type":"number","maximum":75.0,"minimum":20.0,"title":"Clear Cover","description":"Clear cover (mm)","default":25.0},"include_rebars":{"type":"boolean","title":"Include Rebars","description":"Include reinforcement in 3D model","default":true},"include_stirrups":{"type":"boolean","title":"Include Stirrups","description":"Include stirrups in 3D model","default":true},"mesh_resolution":{"type":"string","pattern":"^(low|medium|high)$","title":"Mesh Resolution","description":"Mesh resolution for 3D model","default":"medium"},"output_format":{"type":"string","pattern":"^(vertices_faces|stl|gltf)$","title":"Output Format","description":"Output format for 3D geometry","default":"vertices_faces"}},"type":"object","required":["width","depth","length"],"title":"Geometry3DRequest","description":"Request model for 3D geometry generation."},"Geometry3DResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether geometry generation succeeded"},"message":{"type":"string","title":"Message","description":"Summary message"},"components":{"items":{"$ref":"#/components/schemas/GeometryComponent"},"type":"array","title":"Components","description":"List of geometry components"},"bounding_box":{"$ref":"#/components/schemas/BoundingBox","description":"Overall bounding box"},"center":{"items":{"type":"number"},"type":"array","maxItems":3,"minItems":3,"title":"Center","description":"Center point [x, y, z] for camera target"},"suggested_camera_distance":{"type":"number","title":"Suggested Camera Distance","description":"Suggested camera distance for framing (mm)"},"total_vertices":{"type":"integer","title":"Total Vertices","description":"Total vertex count"},"total_faces":{"type":"integer","title":"Total Faces","description":"Total face count"},"stl_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stl Base64","description":"Base64-encoded STL file (if requested)"},"gltf_json":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Gltf Json","description":"GLTF JSON data (if requested)"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Geometry warnings"}},"type":"object","required":["success","message","components","bounding_box","center","suggested_camera_distance","total_vertices","total_faces"],"title":"Geometry3DResponse","description":"Response model for 3D geometry generation."},"GeometryComponent":{"properties":{"name":{"type":"string","title":"Name","description":"Component name"},"type":{"type":"string","title":"Type","description":"Component type","examples":["beam","rebar","stirrup"]},"mesh":{"$ref":"#/components/schemas/MeshData","description":"Mesh data for component"},"color":{"items":{"type":"number"},"type":"array","maxItems":4,"minItems":4,"title":"Color","description":"RGBA color [r, g, b, a] in 0-1 range"},"material_hint":{"type":"string","title":"Material Hint","description":"Material type hint for rendering","default":"concrete","examples":["concrete","steel","formwork"]}},"type":"object","required":["name","type","mesh","color"],"title":"GeometryComponent","description":"Single geometry component (beam, rebar, stirrup)."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthStatus":{"properties":{"status":{"type":"string","enum":["healthy","unhealthy","degraded"],"title":"Status","description":"Overall system health status"},"version":{"type":"string","title":"Version","description":"API version"},"timestamp":{"type":"string","title":"Timestamp","description":"ISO 8601 timestamp"},"uptime_seconds":{"type":"number","minimum":0.0,"title":"Uptime Seconds","description":"Time since startup in seconds"}},"type":"object","required":["status","version","timestamp","uptime_seconds"],"title":"HealthStatus","description":"Health check response model."},"MeshData":{"properties":{"vertices":{"items":{"items":{"type":"number"},"type":"array"},"type":"array","title":"Vertices","description":"List of vertex coordinates [[x, y, z], ...]"},"faces":{"items":{"items":{"type":"integer"},"type":"array"},"type":"array","title":"Faces","description":"List of face indices [[v0, v1, v2], ...]"},"normals":{"anyOf":[{"items":{"items":{"type":"number"},"type":"array"},"type":"array"},{"type":"null"}],"title":"Normals","description":"Vertex normals for lighting"}},"type":"object","required":["vertices","faces"],"title":"MeshData","description":"3D mesh data in vertices/faces format."},"OptimalDesign":{"properties":{"width":{"type":"number","title":"Width","description":"Beam width (mm)"},"depth":{"type":"number","title":"Depth","description":"Beam depth (mm)"},"ast_required":{"type":"number","title":"Ast Required","description":"Tension steel required (mm²)"},"asc_required":{"type":"number","title":"Asc Required","description":"Compression steel (mm²)","default":0.0},"utilization":{"type":"number","title":"Utilization","description":"Moment utilization ratio"},"ld_ratio":{"type":"number","title":"Ld Ratio","description":"Span/depth ratio"},"concrete_volume":{"type":"number","title":"Concrete Volume","description":"Concrete volume (m³/m)"},"steel_weight":{"type":"number","title":"Steel Weight","description":"Steel weight (kg/m)"},"formwork_area":{"type":"number","title":"Formwork Area","description":"Formwork area (m²/m)"},"cost_breakdown":{"$ref":"#/components/schemas/CostBreakdown"},"rank":{"type":"integer","title":"Rank","description":"Solution rank (1 = best)"},"score":{"type":"number","title":"Score","description":"Optimization score (lower is better)"}},"type":"object","required":["width","depth","ast_required","utilization","ld_ratio","concrete_volume","steel_weight","formwork_area","cost_breakdown","rank","score"],"title":"OptimalDesign","description":"Single optimal design solution."},"ReadinessStatus":{"properties":{"ready":{"type":"boolean","title":"Ready","description":"Whether the service is ready to accept requests"},"checks":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Checks","description":"Individual component readiness"}},"type":"object","required":["ready","checks"],"title":"ReadinessStatus","description":"Readiness check response model."},"ShearResult":{"properties":{"tau_v":{"type":"number","title":"Tau V","description":"Nominal shear stress (N/mm²)"},"tau_c":{"type":"number","title":"Tau C","description":"Concrete shear strength (N/mm²)"},"tau_c_max":{"type":"number","title":"Tau C Max","description":"Maximum shear stress limit (N/mm²)"},"asv_required":{"type":"number","title":"Asv Required","description":"Required stirrup area (mm²/mm)"},"stirrup_spacing":{"type":"number","title":"Stirrup Spacing","description":"Calculated stirrup spacing (mm)"},"sv_max":{"type":"number","title":"Sv Max","description":"Maximum allowed spacing (mm)"},"shear_capacity":{"type":"number","title":"Shear Capacity","description":"Shear capacity Vu,cap (kN)"}},"type":"object","required":["tau_v","tau_c","tau_c_max","asv_required","stirrup_spacing","sv_max","shear_capacity"],"title":"ShearResult","description":"Shear design result."},"SmartAnalysisRequest":{"properties":{"width":{"type":"number","maximum":2000.0,"exclusiveMinimum":0.0,"title":"Width","description":"Beam width (mm)"},"depth":{"type":"number","maximum":3000.0,"exclusiveMinimum":0.0,"title":"Depth","description":"Beam depth (mm)"},"moment":{"type":"number","minimum":0.0,"title":"Moment","description":"Factored moment Mu (kN·m)"},"shear":{"type":"number","minimum":0.0,"title":"Shear","description":"Factored shear Vu (kN)","default":0.0},"fck":{"type":"number","maximum":80.0,"minimum":15.0,"title":"Fck","description":"fck (N/mm²)","default":25.0},"fy":{"type":"number","maximum":600.0,"minimum":250.0,"title":"Fy","description":"fy (N/mm²)","default":500.0},"span_length":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Span Length","description":"Beam span length (mm) for deflection analysis"},"exposure_class":{"type":"string","title":"Exposure Class","description":"Exposure condition per IS 456","default":"moderate"},"seismic_zone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seismic Zone","description":"Seismic zone for ductile detailing"},"include_suggestions":{"type":"boolean","title":"Include Suggestions","description":"Include design improvement suggestions","default":true},"include_code_checks":{"type":"boolean","title":"Include Code Checks","description":"Include code compliance checks","default":true},"analyze_efficiency":{"type":"boolean","title":"Analyze Efficiency","description":"Analyze design efficiency and cost-effectiveness","default":true}},"type":"object","required":["width","depth","moment"],"title":"SmartAnalysisRequest","description":"Request model for smart design analysis."},"SmartAnalysisResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether analysis succeeded"},"message":{"type":"string","title":"Message","description":"Summary message"},"design_summary":{"additionalProperties":true,"type":"object","title":"Design Summary","description":"Summary of design parameters and results"},"code_checks":{"items":{"$ref":"#/components/schemas/CodeCheck"},"type":"array","title":"Code Checks","description":"Code compliance check results"},"all_checks_passed":{"type":"boolean","title":"All Checks Passed","description":"Whether all code checks passed"},"suggestions":{"items":{"$ref":"#/components/schemas/Suggestion"},"type":"array","title":"Suggestions","description":"Design improvement suggestions"},"critical_suggestions":{"type":"integer","title":"Critical Suggestions","description":"Number of high-priority suggestions","default":0},"efficiency":{"anyOf":[{"$ref":"#/components/schemas/EfficiencyMetrics"},{"type":"null"}],"description":"Design efficiency metrics"},"cost_estimate":{"anyOf":[{"$ref":"#/components/schemas/CostEstimate"},{"type":"null"}],"description":"Rough cost estimate"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Analysis warnings"}},"type":"object","required":["success","message","design_summary","all_checks_passed"],"title":"SmartAnalysisResponse","description":"Response model for smart analysis."},"StirrupArrangement":{"properties":{"diameter":{"type":"integer","title":"Diameter","description":"Stirrup diameter (mm)"},"legs":{"type":"integer","title":"Legs","description":"Number of legs"},"spacing":{"type":"number","title":"Spacing","description":"Spacing (mm)"},"area_per_meter":{"type":"number","title":"Area Per Meter","description":"Asv/sv provided (mm²/mm)"}},"type":"object","required":["diameter","legs","spacing","area_per_meter"],"title":"StirrupArrangement","description":"Stirrup arrangement."},"Suggestion":{"properties":{"category":{"type":"string","title":"Category","description":"Suggestion category","examples":["geometry","reinforcement","materials","detailing"]},"priority":{"type":"string","enum":["high","medium","low"],"title":"Priority","description":"Suggestion priority"},"title":{"type":"string","title":"Title","description":"Short suggestion title"},"description":{"type":"string","title":"Description","description":"Detailed explanation"},"potential_savings":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Potential Savings","description":"Estimated cost savings (%)"},"action_required":{"type":"boolean","title":"Action Required","description":"Whether action is required (vs optional)","default":false}},"type":"object","required":["category","priority","title","description"],"title":"Suggestion","description":"Design suggestion with priority."},"SystemInfo":{"properties":{"python_version":{"type":"string","title":"Python Version","description":"Python interpreter version"},"platform":{"type":"string","title":"Platform","description":"Operating system platform"},"api_version":{"type":"string","title":"Api Version","description":"API version"},"structural_lib_available":{"type":"boolean","title":"Structural Lib Available","description":"Whether structural_lib is importable"}},"type":"object","required":["python_version","platform","api_version","structural_lib_available"],"title":"SystemInfo","description":"System information response model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"health","description":"Health check and system status endpoints."},{"name":"design","description":"Beam design calculations for flexure, shear, and combined loading."},{"name":"detailing","description":"Reinforcement detailing including bar layout, spacing, and anchorage."},{"name":"optimization","description":"Cost optimization and efficient section selection."},{"name":"analysis","description":"Smart analysis with design suggestions and insights."},{"name":"geometry","description":"3D geometry generation for visualization."},{"name":"websocket","description":"WebSocket endpoints for live design updates."},{"name":"streaming","description":"Server-Sent Events (SSE) for batch processing and progress."}]}