{
  "$schema": "scripts-index-schema",
  "version": "1.0.0",
  "updated": "2026-02-11",
  "description": "Comprehensive index of all automation scripts for AI agent discovery",
  "total_scripts": 80,
  "usage_guide": "AI agents should use this file to discover available scripts. Start with 'tier0' scripts for most operations.",
  "tier0": {
    "description": "PRIMARY SCRIPTS - Use these 95% of the time",
    "scripts": {
      "ai_commit.sh": {
        "purpose": "Commit and push changes (ALWAYS use this for commits)",
        "usage": "./scripts/ai_commit.sh \"commit message\"",
        "category": "git",
        "priority": "critical"
      },
      "agent_start.sh": {
        "purpose": "Start session (combines setup + preflight + session init)",
        "usage": "./scripts/agent_start.sh --quick",
        "category": "session",
        "priority": "critical"
      },
      "should_use_pr.sh": {
        "purpose": "Decide if PR is needed vs direct commit",
        "usage": "./scripts/should_use_pr.sh --explain",
        "category": "git",
        "priority": "high"
      },
      "recover_git_state.sh": {
        "purpose": "Emergency recovery from git issues",
        "usage": "./scripts/recover_git_state.sh",
        "category": "git",
        "priority": "high"
      },
      "session.py": {
        "purpose": "Unified session management (start, end, handoff, check)",
        "usage": ".venv/bin/python scripts/session.py end",
        "category": "session",
        "priority": "high"
      }
    }
  },
  "categories": {
    "git_workflow": {
      "description": "Git operations and workflow automation",
      "scripts": {
        "ai_commit.sh": "PRIMARY - Commit and push changes",
        "safe_push.sh": "Core push logic (called by ai_commit.sh)",
        "should_use_pr.sh": "Decide PR vs direct commit",
        "create_task_pr.sh": "Create branch for task PR",
        "finish_task_pr.sh": "Submit PR with --async or --wait",
        "recover_git_state.sh": "Emergency git recovery",
        "validate_git_state.sh": "Comprehensive git state check",
        "check_unfinished_merge.sh": "Detect unfinished merge",
        "install_git_hooks.sh": "Install hook enforcement",
        "cleanup_stale_branches.py": "Remove old task branches (dry run + delete)",
        "check_not_main.sh": "Verify not on main branch"
      }
    },
    "session_management": {
      "description": "Session start, end, and handoff",
      "scripts": {
        "agent_start.sh": "UNIFIED - Start session (recommended)",
        "session.py": "Unified session management (start, end, handoff, check)",
        "agent_mistakes_report.sh": "Show common mistakes reminder",
        "collect_diagnostics.py": "Bundle debug context (env, git, logs)",
        "launch_streamlit.sh": "Launch Streamlit app with env checks"
      }
    },
    "code_validation": {
      "description": "Code quality, linting, and validation",
      "scripts": {
        "check_streamlit.py": "Unified Streamlit validation (AST scanner + fragment checks)",
        "check_circular_imports.py": "Detect circular import issues",
        "check_type_annotations.py": "Validate type annotations",
        "check_python_version.py": "Check Python version compatibility",
        "validate_session_state.py": "Validate session state usage",
        "audit_error_handling.py": "Audit error handling patterns",
        "audit_input_validation.py": "Audit input validation",
        "check_performance_issues.py": "Detect performance issues",
        "check_cost_optimizer_issues.py": "Check cost optimizer issues",
        "check_ui_duplication.py": "Detect code duplication in Streamlit UI",
        "check_architecture_boundaries.py": "Enforce 3-layer architecture boundaries",
        "profile_streamlit_page.py": "Profile page performance"
      }
    },
    "documentation": {
      "description": "Documentation validation and generation",
      "scripts": {
        "check_links.py": "Validate + auto-fix markdown links (--fix, --map, --exclude-archive)",
        "check_doc_versions.py": "Check version consistency in docs",
        "check_docs.py": "Unified docs validation (--index, --index-links, --metadata, --all)",
        "generate_docs_index.py": "Generate docs-index.json",
        "generate_all_indexes.sh": "Generate all index files",
        "create_doc.py": "Create new document with metadata",
        "find_automation.py": "Search automation scripts by task description",
        "generate_enhanced_index.py": "Generate enhanced folder index files (JSON + Markdown)"
      }
    },
    "file_operations": {
      "description": "Safe file move, delete, and archive operations",
      "scripts": {
        "safe_file_move.py": "Move file with link updates",
        "safe_file_delete.py": "Delete file with reference check",
        "archive_old_files.sh": "Archive files older than 90 days"
      }
    },
    "project_structure": {
      "description": "Validate project structure and governance",
      "scripts": {
        "check_governance.py": "Unified governance checker (--structure, --compliance, --full, --json)",
        "audit_readiness_report.py": "Generate audit evidence bundle (NIST SSDF aligned)",
        "check_root_file_count.sh": "Monitor root file count",
        "check_repo_hygiene.py": "Check repository hygiene",
        "check_tasks_format.py": "Validate TASKS.md format",
        "check_wip_limits.sh": "Check WIP limits",
        "check_cli_reference.py": "Validate CLI reference docs",
        "repo_health_check.sh": "Overall repository health",
        "check_scripts_index.py": "Ensure scripts/index.json is in sync"
      }
    },
    "api_validation": {
      "description": "API documentation and validation",
      "scripts": {
        "check_api.py": "Unified API validation (--signatures, --docs, --sync, --all)",
        "generate_api_manifest.py": "Generate API manifest JSON"
      }
    },
    "testing": {
      "description": "Testing utilities and validation",
      "scripts": {
        "create_test_scaffold.py": "Create test file scaffold",
        "update_test_stats.py": "Update test statistics",
        "watch_tests.sh": "Watch and run tests on change",
        "external_cli_test.py": "Test external CLI integration",
        "run_vba_smoke_tests.py": "Run VBA smoke tests via Excel automation (macOS)",
        "test_import_3d_pipeline.py": "Integration test for import \u2192 design \u2192 3D pipeline",
        "test_vba_adapter.py": "Test ETABSAdapter with VBA ETABS export data"
      }
    },
    "release": {
      "description": "Release and versioning",
      "scripts": {
        "release.py": "Unified release management (run, verify, check-docs, checklist)",
        "bump_version.py": "Bump version number",
        "check_version_consistency.sh": "Check version consistency"
      }
    },
    "ci_cd": {
      "description": "CI/CD and automation",
      "scripts": {
        "ci_local.sh": "Run CI checks locally",
        "pre_commit_check.sh": "Pre-commit hook checks",
        "collect_metrics.sh": "Collect project metrics"
      }
    },
    "code_migration": {
      "description": "Code migration and refactoring",
      "scripts": {
        "batch_migrate_runner.py": "Batch migration plan executor with per-operation rollback logs",
        "migrate_python_module.py": "Move Python module + update imports + optional compat stub",
        "migrate_react_component.py": "Move React component + update imports + barrel exports",
        "validate_imports.py": "Validate import resolution across scopes (--scope structural_lib/all)"
      }
    },
    "streamlit_dev": {
      "description": "Streamlit development utilities",
      "scripts": {
        "generate_streamlit_page.py": "Generate new Streamlit page",
        "dxf_render.py": "Render DXF exports"
      }
    },
    "vba": {
      "description": "VBA code utilities",
      "scripts": {
        "lint_vba.py": "Lint VBA code"
      }
    },
    "governance": {
      "description": "Governance, metrics, and compliance",
      "scripts": {
        "governance_health_score.py": "Calculate governance health score 0-100 (TASK-289)",
        "collect_metrics.sh": "Collect project metrics for governance analysis",
        "check_next_session_brief_length.py": "Check brief length limits"
      }
    },
    "v3_migration": {
      "description": "V3 React + FastAPI migration automation",
      "scripts": {
        "test_api_parity.py": "Test library \u2194 FastAPI serialization parity",
        "benchmark_api.py": "FastAPI performance benchmarks with p95/p99 latencies (NEW)",
        "validate_api_contracts.py": "Detect breaking API changes vs OpenAPI baseline (NEW)",
        "check_fastapi_issues.py": "AST scanner for FastAPI anti-patterns (NEW)",
        "validate_schema_snapshots.py": "Validate Pydantic schemas against snapshots for contract testing",
        "discover_api_signatures.py": "Discover API signatures BEFORE implementing wrappers (CRITICAL)",
        "check_docker_config.py": "Validate Docker configuration (Dockerfile, compose, .dockerignore)",
        "generate_client_sdks.py": "Generate Python + TypeScript client SDKs from OpenAPI spec"
      }
    }
  },
  "quick_reference": {
    "start_session": "./scripts/agent_start.sh --quick",
    "commit_changes": "./scripts/ai_commit.sh \"message\"",
    "check_pr_needed": "./scripts/should_use_pr.sh --explain",
    "create_pr": "./scripts/create_task_pr.sh TASK-XXX \"description\"",
    "finish_pr": "./scripts/finish_task_pr.sh TASK-XXX \"description\" --async",
    "end_session": ".venv/bin/python scripts/session.py end",
    "fix_git_issues": "./scripts/recover_git_state.sh",
    "validate_links": ".venv/bin/python scripts/check_links.py",
    "fix_links": ".venv/bin/python scripts/check_links.py --fix",
    "check_streamlit": ".venv/bin/python scripts/check_streamlit.py --all-pages",
    "check_fastapi": ".venv/bin/python scripts/check_fastapi_issues.py",
    "check_docker": ".venv/bin/python scripts/check_docker_config.py",
    "docker_up": "docker compose up --build",
    "docker_dev": "docker compose -f docker-compose.dev.yml up --build",
    "docker_down": "docker compose down",
    "benchmark_api": ".venv/bin/python scripts/benchmark_api.py --quick",
    "validate_contracts": ".venv/bin/python scripts/validate_api_contracts.py",
    "validate_docs": ".venv/bin/python scripts/check_doc_metadata.py",
    "v3_readiness": ".venv/bin/python scripts/validate_fastapi_schema.py && .venv/bin/python scripts/test_api_parity.py && .venv/bin/python scripts/benchmark_api_latency.py"
  },
  "workflows": {
    "simple_doc_edit": [
      "./scripts/agent_start.sh --quick",
      "# Make doc changes",
      "./scripts/ai_commit.sh \"docs: description\""
    ],
    "production_code_change": [
      "./scripts/agent_start.sh --quick",
      "./scripts/create_task_pr.sh TASK-XXX \"description\"",
      "# Make code changes",
      "./scripts/ai_commit.sh \"feat: description\"",
      "./scripts/finish_task_pr.sh TASK-XXX \"description\" --async"
    ],
    "emergency_recovery": [
      "./scripts/recover_git_state.sh",
      "# Follow printed instructions"
    ]
  },
  "deprecated": {
    "description": "Scripts that should NOT be used directly (archived to scripts/_archive/)",
    "scripts": {
      "safe_push.sh": "Use ai_commit.sh instead (internal)"
    },
    "archived": {
      "agent_setup.sh": "Merged into agent_start.sh",
      "agent_preflight.sh": "Merged into agent_start.sh",
      "copilot_setup.sh": "One-time setup, no longer needed",
      "test_setup.py": "Replaced by pytest suite",
      "vba_validator.py": "Replaced by lint_vba.py",
      "comprehensive_validator.py": "Replaced by CI pipeline",
      "validate_streamlit_page.py": "Replaced by check_streamlit.py",
      "check_api_signatures.py": "Merged into check_api.py",
      "check_api_doc_signatures.py": "Merged into check_api.py",
      "check_api_docs_sync.py": "Merged into check_api.py",
      "validate_folder_structure.py": "Merged into check_governance.py",
      "check_governance_compliance.py": "Merged into check_governance.py",
      "fix_broken_links.py": "Merged into check_links.py --fix",
      "check_docs_index.py": "Merged into check_docs.py --index",
      "check_docs_index_links.py": "Merged into check_docs.py --index-links",
      "start_session.py": "Merged into session.py start",
      "end_session.py": "Merged into session.py end",
      "update_handoff.py": "Merged into session.py handoff",
      "check_session_docs.py": "Merged into session.py check",
      "verify_release.py": "Merged into release.py verify",
      "check_release_docs.py": "Merged into release.py check-docs",
      "check_pre_release_checklist.py": "Merged into release.py checklist",
      "check_streamlit_issues.py": "Renamed to check_streamlit.py",
      "check_fragment_violations.py": "Merged into check_streamlit.py --fragments"
    }
  }
}
