# v0.20.0 Stabilization Checklist

**Goal:** Make this version stable, safe, efficient, well-documented, and trustworthy.

> **Version info:** See [TASKS.md](../TASKS.md) for current/next release status.

**Current State:**
- Tests: Run `python scripts/update_test_stats.py` for current count
- Coverage: ~92% branch coverage
- Linting: Clean (0 ruff/mypy issues)

---

## ğŸ”´ Critical (Must Complete Before v0.20.0)

### Code Quality & Safety

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-001 | All tests pass (0 failures) | TESTER | âœ… | 2019 passed, 0 failed |
| S-002 | Coverage â‰¥90% branch | TESTER | âœ… | Current: 92% |
| S-003 | No mypy type errors | DEV | âœ… | Verified 2025-12-28 |
| S-004 | No ruff lint issues | DEV | âœ… | Verified 2025-12-28 |
| S-005 | Review skipped tests | TESTER | âœ… | 0 skipped (removed property-invariant skips) |
| S-006 | Error messages are clear | SUPPORT | âœ… | Improved job_runner errors |

### Trust & Validation

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-007 | External user CLI test | CLIENT | â³ | One engineer tries cold |
| S-008 | VBA parity spot-check | TESTER | âœ… | TASK-079 completed |
| S-009 | Verification examples run | TESTER | âœ… | All 6 examples verified, fixed D1 expected value |
| S-010 | IS 456 clause coverage | TESTER | âœ… | 45 critical tests added |

### Documentation

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-011 | README accurate | DOCS | âœ… | Updated 2025-12-28 |
| S-012 | CHANGELOG complete | DOCS | âœ… | Updated 2025-12-28 |
| S-013 | API docs match code | DOCS | âœ… | Fixed Level B helper signatures |
| S-014 | All examples runnable | DOCS | âœ… | Fixed expected output in beginners-guide |
| S-015 | No broken links | DOCS | âœ… | Fixed 4 broken links, added scripts/check_links.py |

---

## ğŸŸ¡ High Priority (Should Complete)

### Robustness

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-020 | Edge case handling | DEV | âœ… | Zero/negative inputs return is_safe=False with clear error |
| S-021 | Graceful degradation | DEV | âœ… | Returns result with is_safe=False, no exceptions |
| S-022 | Input validation | DEV | âœ… | Clear error on bad input (covered by S-006, S-020) |
| S-023 | Deterministic outputs | TESTER | âœ… | Tests added |

### Performance

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-030 | No memory leaks | DEV | âœ… | Stateless functions, no accumulation |
| S-031 | Reasonable speed | DEV | âœ… | 0.009ms per beam (target: <1000ms) |
| S-032 | Large batch handling | DEV | âœ… | 94,000 beams/second tested |

### CI/CD

| ID | Task | Owner | Status | Notes |
|----|------|-------|--------|-------|
| S-040 | All CI checks green | DEVOPS | âœ… | 8/2019 passing |
| S-041 | Pre-commit hooks work | DEVOPS | âœ… | Installed |
| S-042 | Release automation | DEVOPS | âœ… | scripts/release.py |
| S-043 | Version sync automation | DEVOPS | âœ… | bump_version.py |

---

## ğŸŸ¢ Nice to Have (Post-v0.20.0)

| ID | Task | Owner | Notes |
|----|------|-------|-------|
| S-050 | VBA parity automation | DEVOPS | Auto-compare Python/VBA |
| S-051 | Performance benchmarks | DEV | Track regression |
| S-052 | Fuzz testing | TESTER | Random input testing |
| S-053 | Security audit | DEVOPS | Dependency scan |

---

## Verification Commands

```bash
# Full local CI check
./scripts/ci_local.sh

# Quick test run
cd Python && ../.venv/bin/python -m pytest tests -q

# Coverage check
cd Python && ../.venv/bin/python -m pytest tests --cov=structural_lib --cov-branch

# Type check
cd Python && ../.venv/bin/python -m mypy structural_lib

# Lint check
cd Python && ../.venv/bin/python -m ruff check .

# Doc version drift
.venv/bin/python scripts/check_doc_versions.py

# Test stats
.venv/bin/python scripts/update_test_stats.py
```

---

## Sign-Off Requirements

Before tagging v0.20.0:

1. [x] All ğŸ”´ Critical items complete (except S-007 manual test)
2. [x] All ğŸŸ¡ High Priority items complete
3. [ ] `scripts/ci_local.sh` passes
4. [ ] `scripts/check_doc_versions.py` shows no drift
5. [ ] CHANGELOG updated with v0.20.0 section
6. [ ] RELEASES.md entry added
7. [ ] PM approval

---

## Progress Tracker

| Category | Total | Done | Remaining |
|----------|-------|------|-----------|
| ğŸ”´ Critical | 15 | 14 | 1 (S-007 manual) |
| ğŸŸ¡ High Priority | 12 | 12 | 0 |
| ğŸŸ¢ Nice to Have | 4 | 0 | 4 |
| **Overall** | **31** | **26** | **5** |

**Last Updated:** 2025-12-28

---

## Notes

- Run `python scripts/update_test_stats.py` to get current test counts
- Use `python scripts/update_test_stats.py --json` for machine-readable output
- This checklist lives at `docs/planning/v0.20-stabilization-checklist.md`
