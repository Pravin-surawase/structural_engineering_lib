# Agent 9: Metrics & Tracking Templates

**Purpose:** Metric tracking templates and dashboard formats
**Audience:** AI agents executing governance sessions
**Last Updated:** 2026-01-10

---

## Table of Contents

1. [Weekly Metrics Dashboard](#weekly-metrics-dashboard)
2. [Monthly Metrics Dashboard](#monthly-metrics-dashboard)
3. [Health Report Template](#health-report-template)
4. [Sustainability Trends Tracker](#sustainability-trends-tracker)
5. [WIP Compliance Report](#wip-compliance-report)

---

## Weekly Metrics Dashboard

**File:** `docs/planning/GOVERNANCE-METRICS.md`
**Update Frequency:** Weekly (during governance session)

### Template

```markdown
# Governance Metrics Dashboard

**Week:** YYYY-WXX
**Period:** YYYY-MM-DD to YYYY-MM-DD
**Updated:** YYYY-MM-DD HH:MM

---

## Sustainability Indicators

| Metric | Current | Target | Status | Trend |
|--------|---------|--------|--------|-------|
| Commits/Day (7d avg) | XX | 50-75 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Active Docs | XX | <10 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Feature:Governance Ratio | X:X | 4:1 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| WIP Compliance | XX% | 100% | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |

**Legend:**
- ‚úÖ Within target
- ‚ö†Ô∏è Warning (approaching limit)
- ‚ùå Exceeded limit
- ‚ÜóÔ∏è Improving | ‚Üí Stable | ‚ÜòÔ∏è Declining

---

## Velocity Indicators

| Metric | Current | Target | Status | Trend |
|--------|---------|--------|--------|-------|
| PRs Merged/Week | XX | 10-15 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Test Count | XXXX | +50/week | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Code Quality (ruff) | XX errors | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Code Quality (mypy) | XX errors | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |

---

## Health Indicators

| Metric | Current | Limit | Status | Trend |
|--------|---------|-------|--------|-------|
| Active Worktrees | X | 2 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Open PRs | XX | 5 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Research Tasks | X | 3 | ‚úÖ/‚ö†Ô∏è/‚ùå | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |

---

## Session History (Last 10)

| Date | Type | Duration | Key Actions |
|------|------|----------|-------------|
| YYYY-MM-DD | Feature | Xh | Implemented UI-003 |
| YYYY-MM-DD | Feature | Xh | Fixed bug TASK-XXX |
| YYYY-MM-DD | Governance | Xh | Weekly maintenance |
| ... | ... | ... | ... |

**Current Ratio:** X feature : X governance (Target: 4:1)

---

## Trends Analysis

### Week-over-Week Changes
- **Commits/day:** ¬±XX (was XX, now XX)
- **Active docs:** ¬±XX (was XX, now XX)
- **PRs merged:** ¬±XX (was XX, now XX)
- **Test count:** +XX tests

### Observations
- [What's working well?]
- [What's concerning?]
- [What changed significantly?]

### Recommendations
1. [Recommendation 1]
2. [Recommendation 2]
3. [Recommendation 3]

---

## Next Actions

- [ ] Next governance session: YYYY-MM-DD (est.)
- [ ] Release approaching: v0.X.0 on YYYY-MM-DD
- [ ] Policy adjustments: [None / See recommendations]

---

**Generated by:** Agent 9
**Next Update:** YYYY-MM-DD (Weekly)
```

---

## Monthly Metrics Dashboard

**File:** `docs/planning/GOVERNANCE-METRICS-YYYY-MM.md`
**Update Frequency:** Monthly (first session of month)

### Template

```markdown
# Monthly Governance Report: MMMM YYYY

**Period:** YYYY-MM-01 to YYYY-MM-DD
**Generated:** YYYY-MM-DD HH:MM

---

## Executive Summary

**Overall Health:** üü¢ Healthy / üü° Warning / üî¥ Critical

**Key Highlights:**
- [Highlight 1]
- [Highlight 2]
- [Highlight 3]

**Areas of Concern:**
- [Concern 1 if any]
- [Concern 2 if any]

---

## 30-Day Metrics

### Commit Activity

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| Total Commits | XXX | 1,500-2,250 (50-75/day √ó 30) | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Commits/Day (avg) | XX.X | 50-75 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Peak Day | XXX commits on YYYY-MM-DD | <100 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Weekend Commits | XX% | <20% | ‚úÖ/‚ö†Ô∏è/‚ùå |

**Daily Distribution:**
```
          5  10  15  20  25  30 (days)
Commits: [XX][XX][XX]...[XX][XX][XX]
```

---

### PR Activity

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| PRs Opened | XX | - | - |
| PRs Merged | XX | 300-450 (10-15/day √ó 30) | ‚úÖ/‚ö†Ô∏è/‚ùå |
| PRs Closed (unmerged) | XX | <5 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Avg Merge Time | XX hours | <24 hours | ‚úÖ/‚ö†Ô∏è/‚ùå |

---

### Code Metrics

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| Lines Added | XX,XXX | - | - |
| Lines Removed | XX,XXX | - | - |
| Net Change | ¬±XX,XXX | - | - |
| Test Count (start) | XXXX | - | - |
| Test Count (end) | XXXX | - | - |
| Test Growth | +XXX | +200-400 (50-100/week √ó 4) | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Ruff Errors | X | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Mypy Errors | X | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |

---

### Documentation Metrics

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| Docs Created | XX | <20 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Docs Archived | XX | - | - |
| Active Docs (end of month) | XX | <10 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Archive Size | XXX files | - | - |

---

### Session Metrics

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| Total Sessions | XX | - | - |
| Feature Sessions | XX | - | - |
| Governance Sessions | XX | - | - |
| F:G Ratio | X:X | 4:1 (80:20) | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Avg Session Duration | X.X hours | - | - |

---

### WIP Compliance

| Metric | Violations | Target | Status |
|--------|------------|--------|--------|
| Worktree Limit (‚â§2) | X times | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| PR Limit (‚â§5) | X times | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Docs Limit (‚â§10) | X times | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Research Limit (‚â§3) | X times | 0 | ‚úÖ/‚ö†Ô∏è/‚ùå |
| **Overall Compliance** | XX% | 100% | ‚úÖ/‚ö†Ô∏è/‚ùå |

---

## Trend Analysis

### Compared to Previous Month

| Metric | This Month | Last Month | Change | Trend |
|--------|------------|------------|--------|-------|
| Commits/Day | XX | XX | ¬±XX% | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| PRs Merged | XX | XX | ¬±XX% | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Active Docs | XX | XX | ¬±XX | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| Test Count | XXXX | XXXX | +XXX | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |
| WIP Compliance | XX% | XX% | ¬±XX% | ‚ÜóÔ∏è/‚Üí/‚ÜòÔ∏è |

---

### 90-Day Trend (Last 3 Months)

**Commits/Day:**
```
Month -2: XX commits/day
Month -1: XX commits/day
Current:  XX commits/day
Trend: ‚ÜóÔ∏è Increasing / ‚Üí Stable / ‚ÜòÔ∏è Decreasing
```

**Active Docs:**
```
Month -2: XX docs
Month -1: XX docs
Current:  XX docs
Trend: ‚ÜóÔ∏è Increasing / ‚Üí Stable / ‚ÜòÔ∏è Decreasing
```

**WIP Compliance:**
```
Month -2: XX% compliance
Month -1: XX% compliance
Current:  XX% compliance
Trend: ‚ÜóÔ∏è Improving / ‚Üí Stable / ‚ÜòÔ∏è Declining
```

---

## Policy Effectiveness Review

### WIP Limits

**Effectiveness:** üü¢ Effective / üü° Partially Effective / üî¥ Ineffective

**Evidence:**
- Worktrees: X violations, avg X/month
- PRs: X violations, avg X/month
- Docs: X violations, avg X/month
- Research: X violations, avg X/month

**Recommendation:**
- [ ] Keep current limits (working well)
- [ ] Tighten limits (too lenient, violations common)
- [ ] Loosen limits (too tight, blocking work)
- [ ] Adjust specific limit: [which one and why]

---

### 80/20 Feature:Governance Ratio

**Effectiveness:** üü¢ Maintained / üü° Drifted / üî¥ Ignored

**Evidence:**
- Feature sessions: XX (target: ~80%)
- Governance sessions: XX (target: ~20%)
- Actual ratio: X:X (target: 4:1)

**Recommendation:**
- [ ] Maintain current pattern (ratio on target)
- [ ] Add governance session (too feature-heavy)
- [ ] Extend governance sessions (need more time)

---

### Release Cadence

**Effectiveness:** üü¢ On Track / üü° Delayed / üî¥ Off Track

**Evidence:**
- Releases this month: X (target: 1-2)
- Release dates: [list dates]
- Feature freeze effectiveness: [notes]
- Post-release bugs: [count]

**Recommendation:**
- [ ] Maintain bi-weekly cadence
- [ ] Extend to 3 weeks (need more stabilization)
- [ ] Extend feature freeze to 5 days (quality issues)

---

### Documentation Lifecycle

**Effectiveness:** üü¢ Working / üü° Needs Adjustment / üî¥ Broken

**Evidence:**
- Docs archived: XX
- Archive structure: [organized / disorganized]
- Link breakage: [rare / common]
- Agent onboarding time: [<15 min / >15 min]

**Recommendation:**
- [ ] Current process working well
- [ ] Archive more aggressively (7 days ‚Üí 5 days)
- [ ] Improve archive indexing
- [ ] Better redirect stub creation

---

## Automation Health

### Script Reliability

| Script | Runs | Failures | Success Rate | Status |
|--------|------|----------|--------------|--------|
| archive_old_sessions.sh | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |
| check_wip_limits.sh | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |
| check_version_consistency.sh | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |
| generate_health_report.sh | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |

**Target:** >95% success rate

---

### GitHub Actions

| Workflow | Runs | Failures | Success Rate | Status |
|----------|------|----------|--------------|--------|
| Fast Checks | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Full Tests | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |
| Git Workflow Tests | XX | X | XX% | ‚úÖ/‚ö†Ô∏è/‚ùå |

**Target:** >95% success rate

---

## Recommendations

### High Priority (Implement This Month)
1. [Recommendation 1 with rationale]
2. [Recommendation 2 with rationale]

### Medium Priority (Next 2-3 Months)
1. [Recommendation 1 with rationale]
2. [Recommendation 2 with rationale]

### Low Priority (Nice to Have)
1. [Recommendation 1 with rationale]
2. [Recommendation 2 with rationale]

---

## Action Items

### For Next Governance Session
- [ ] [Action item 1]
- [ ] [Action item 2]
- [ ] [Action item 3]

### For Next Month
- [ ] [Action item 1]
- [ ] [Action item 2]

---

**Generated by:** Agent 9
**Next Review:** YYYY-MM-DD (First session of next month)
```

---

## Health Report Template

**Usage:** Quick health check output
**Generation:** `./scripts/generate_health_report.sh --weekly`

### Compact Format

```markdown
# Health Report: YYYY-MM-DD
**Period:** Last 7 days

## Summary: üü¢ HEALTHY / üü° WARNING / üî¥ CRITICAL

## Sustainability: ‚úÖ / ‚ö†Ô∏è / ‚ùå
- Commits/day: XX (target: 50-75)
- Active docs: XX (target: <10)
- F:G ratio: X:X (target: 4:1)
- WIP compliance: XX%

## Velocity: ‚úÖ / ‚ö†Ô∏è / ‚ùå
- PRs merged: XX (target: 10-15)
- Tests: XXXX (+XX this week)
- Quality: X ruff, X mypy errors

## Health: ‚úÖ / ‚ö†Ô∏è / ‚ùå
- Worktrees: X/2
- Open PRs: X/5
- Research: X/3

## Trends
- Commits: [‚ÜóÔ∏è up / ‚Üí stable / ‚ÜòÔ∏è down] (XX ‚Üí XX)
- Docs: [‚ÜóÔ∏è up / ‚Üí stable / ‚ÜòÔ∏è down] (XX ‚Üí XX)
- WIP: [‚ÜóÔ∏è improving / ‚Üí stable / ‚ÜòÔ∏è declining]

## Next Actions
- [Action 1]
- [Action 2]
```

---

## Sustainability Trends Tracker

**Purpose:** Track metrics over time for trend analysis

### CSV Format

**File:** `docs/planning/sustainability-trends.csv`

```csv
Date,CommitsPerDay,ActiveDocs,PRsMerged,TestCount,WIPCompliance,WorKtrees,OpenPRs,ResearchTasks
2026-01-03,58,15,12,2340,100,2,4,2
2026-01-10,55,8,14,2380,100,2,3,2
2026-01-17,52,9,13,2430,100,2,4,3
...
```

### Visualization Commands

```bash
# Plot commits/day trend (requires gnuplot)
gnuplot -e "set datafile separator ','; plot 'sustainability-trends.csv' using 1:2 with lines title 'Commits/Day'"

# Generate statistics (requires pandas)
python -c "import pandas as pd; df = pd.read_csv('sustainability-trends.csv'); print(df.describe())"
```

---

## WIP Compliance Report

**Usage:** Detailed WIP limit tracking
**Generation:** `./scripts/check_wip_limits.sh --report`

### Template

```markdown
# WIP Compliance Report: YYYY-MM-DD

## Current Status

| Limit | Current | Max | Status | % Used |
|-------|---------|-----|--------|--------|
| Worktrees | X | 2 | ‚úÖ/‚ö†Ô∏è/‚ùå | XX% |
| Open PRs | X | 5 | ‚úÖ/‚ö†Ô∏è/‚ùå | XX% |
| Active Docs | XX | 10 | ‚úÖ/‚ö†Ô∏è/‚ùå | XX% |
| Research | X | 3 | ‚úÖ/‚ö†Ô∏è/‚ùå | XX% |

**Overall:** ‚úÖ All OK / ‚ö†Ô∏è Approaching Limits / ‚ùå Exceeded

---

## Details

### Worktrees (X/2)
```
Path                              Branch              Status
/path/to/main                     main                clean
/path/to/worktree-agent-6         feat/ui-feature     3 commits ahead
```

### Open PRs (X/5)
```
#XXX  feat: UI enhancement          Created: 2 days ago    CI: ‚úÖ
#XXX  fix: bug in calculator        Created: 1 day ago     CI: üîÑ
#XXX  docs: update guide            Created: today         CI: ‚è≥
```

### Active Docs (XX/10)
```
File                              Age        Size
next-session-brief.md             1 day      5 KB
GOVERNANCE-METRICS.md             2 days     8 KB
AGENT-6-HANDOFF.md                5 days     12 KB
...
```

### Research Tasks (X/3)
```
RESEARCH-001: Optimization study     Status: Active    Age: 3 days
RESEARCH-002: API exploration        Status: Active    Age: 1 day
```

---

## Violation History (Last 30 Days)

| Date | Limit | Value | Duration |
|------|-------|-------|----------|
| 2026-01-05 | Open PRs | 6/5 | 2 hours |
| 2026-01-08 | Active Docs | 12/10 | 1 day |

**Total Violations:** X
**Compliance Rate:** XX%

---

## Recommendations

[If any limits approaching or exceeded, provide specific cleanup actions]

```

---

## Metric Collection Scripts

### Weekly Metrics Collection

```bash
#!/bin/bash
# Collect weekly metrics for GOVERNANCE-METRICS.md

# Commits
COMMITS_7D=$(git log --since="7 days ago" --oneline | wc -l)
COMMITS_PER_DAY=$((COMMITS_7D / 7))

# PRs
PRS_MERGED=$(gh pr list --state merged --search "merged:>=$(date -d '7 days ago' +%Y-%m-%d)" --json number | jq length)

# Docs
ACTIVE_DOCS=$(ls docs/planning/*.md | wc -l)

# Tests
TEST_COUNT=$(.venv/bin/python -m pytest --collect-only 2>&1 | grep -oP '\d+ items' | awk '{print $1}')

# WIP
WORKTREES=$(git worktree list | wc -l)
OPEN_PRS=$(gh pr list --state open | wc -l)
RESEARCH=$(grep -c "RESEARCH-" docs/TASKS.md | grep -v "DONE" || echo "0")

# Output
echo "Commits/Day: $COMMITS_PER_DAY"
echo "Active Docs: $ACTIVE_DOCS"
echo "PRs Merged: $PRS_MERGED"
echo "Test Count: $TEST_COUNT"
echo "Worktrees: $WORKTREES/2"
echo "Open PRs: $OPEN_PRS/5"
echo "Research: $RESEARCH/3"
```

---

## Related Documentation

- **[README.md](README.md)** - Main specification
- **[WORKFLOWS.md](WORKFLOWS.md)** - Operational procedures
- **[CHECKLISTS.md](CHECKLISTS.md)** - Ready-to-use checklists
- **[AUTOMATION.md](AUTOMATION.md)** - Script specifications

---

**Last Updated:** 2026-01-10 | **Version:** 1.0.0
